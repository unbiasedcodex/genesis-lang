// Genesis Math Module - Complete Example
// =====================================
// This file demonstrates all math functions available in Genesis Lang.
// See docs/math.md for full documentation.
//
// Compile and run:
//   glc build examples/math_full.gl --native -o math_demo
//   ./math_demo

fn main() -> i64 {
    println("=== Genesis Math Module Demo ===");
    println("");

    // ============ Constants ============
    // Mathematical constants accessed as zero-arg functions
    println("--- Constants ---");
    let pi: f64 = f64::PI();
    let e: f64 = f64::E();
    println("PI =");
    println(pi);
    println("E =");
    println(e);
    println("");

    // ============ Basic f64 Functions ============
    println("--- Basic f64 Functions ---");

    // sqrt - square root
    let sqrt_16: f64 = f64::sqrt(16.0);
    println("sqrt(16.0) =");
    println(sqrt_16);

    // cbrt - cube root
    let cbrt_27: f64 = f64::cbrt(27.0);
    println("cbrt(27.0) =");
    println(cbrt_27);

    // pow - power function
    let pow_2_10: f64 = f64::pow(2.0, 10.0);
    println("pow(2.0, 10.0) =");
    println(pow_2_10);

    // ============ Trigonometry ============
    // All trig functions use RADIANS, not degrees
    println("");
    println("--- Trigonometry (radians) ---");

    let sin_0: f64 = f64::sin(0.0);
    println("sin(0) =");
    println(sin_0);

    let cos_0: f64 = f64::cos(0.0);
    println("cos(0) =");
    println(cos_0);

    // sin(π/2) = 1
    let sin_pi_2: f64 = f64::sin(pi / 2.0);
    println("sin(PI/2) =");
    println(sin_pi_2);

    // ============ Exponential & Logarithmic ============
    println("");
    println("--- Exp/Log ---");

    // exp(1) = e
    let exp_1: f64 = f64::exp(1.0);
    println("exp(1) = e =");
    println(exp_1);

    // ln(e) = 1
    let ln_e: f64 = f64::ln(e);
    println("ln(e) = 1 =");
    println(ln_e);

    // log2(1024) = 10
    let log2_1024: f64 = f64::log2(1024.0);
    println("log2(1024) = 10 =");
    println(log2_1024);

    // log10(1000) = 3
    let log10_1000: f64 = f64::log10(1000.0);
    println("log10(1000) = 3 =");
    println(log10_1000);

    // ============ Rounding ============
    println("");
    println("--- Rounding ---");

    // floor - round toward -∞
    let floor_3_7: f64 = f64::floor(3.7);
    println("floor(3.7) = 3 =");
    println(floor_3_7);

    // ceil - round toward +∞
    let ceil_3_2: f64 = f64::ceil(3.2);
    println("ceil(3.2) = 4 =");
    println(ceil_3_2);

    // round - round to nearest
    let round_3_5: f64 = f64::round(3.5);
    println("round(3.5) = 4 =");
    println(round_3_5);

    // ============ Min/Max ============
    println("");
    println("--- Min/Max ---");

    let min_3_5: f64 = f64::min(3.0, 5.0);
    println("min(3, 5) = 3 =");
    println(min_3_5);

    let max_3_5: f64 = f64::max(3.0, 5.0);
    println("max(3, 5) = 5 =");
    println(max_3_5);

    // ============ Other Functions ============
    println("");
    println("--- Other ---");

    // hypot - sqrt(x² + y²) without overflow
    // Classic 3-4-5 triangle
    let hypot_3_4: f64 = f64::hypot(3.0, 4.0);
    println("hypot(3, 4) = 5 =");
    println(hypot_3_4);

    // ============ Integer Functions ============
    println("");
    println("--- Integer Functions ---");

    let i64_abs: i64 = i64::abs(-42);
    println("i64::abs(-42) = 42 =");
    println(i64_abs);

    let i64_min: i64 = i64::min(10, 20);
    println("i64::min(10, 20) = 10 =");
    println(i64_min);

    let i64_max: i64 = i64::max(10, 20);
    println("i64::max(10, 20) = 20 =");
    println(i64_max);

    let i64_pow: i64 = i64::pow(2, 10);
    println("i64::pow(2, 10) = 1024 =");
    println(i64_pow);

    // ============ Special Values ============
    println("");
    println("--- Special Values ---");

    let inf: f64 = f64::INFINITY();
    println("INFINITY =");
    println(inf);

    let neg_inf: f64 = f64::NEG_INFINITY();
    println("NEG_INFINITY =");
    println(neg_inf);

    // ============ Special Value Checks ============
    println("");
    println("--- Special Value Checks ---");

    // is_nan - check if value is NaN
    let nan: f64 = f64::NAN();
    let is_nan_nan: bool = f64::is_nan(nan);
    println("is_nan(NAN) = true =");
    println(is_nan_nan);

    let is_nan_5: bool = f64::is_nan(5.0);
    println("is_nan(5.0) = false =");
    println(is_nan_5);

    // is_infinite - check if value is ±∞
    let is_inf_inf: bool = f64::is_infinite(inf);
    println("is_infinite(INFINITY) = true =");
    println(is_inf_inf);

    // is_finite - check if not NaN and not infinite
    let is_finite_5: bool = f64::is_finite(5.0);
    println("is_finite(5.0) = true =");
    println(is_finite_5);

    println("");
    println("=== All tests completed! ===");

    0
}
